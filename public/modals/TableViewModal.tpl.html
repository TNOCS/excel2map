<div class="modal-header modal-fullheight">
    <h4 class="modal-title">{{'TABLE_LABEL' | translate}}
        <span class="icon-ic_help_outline_black pointer" aria-hidden="true" uib-tooltip="{{'TABLE_HELP' | translate}}" tooltip-placement="bottom"></span>
        <span class="icon-sluit t2mclose" ng-click="vm.cancel()"></span></h4>
</div>

<div class="modal-body scrollable-xy-table">

    <div class="small-padding" ng-show="vm.itemsToSelect">
        <div class="bold">{{'SELECT_THESE_ITEMS' | translate}}:
            <!-- <span class="small-padding pointer" ng-click="vm.toggleTooltips()" style="float:right">
                    <a style="text-decoration: none"><i class="fa fa-eye-slash small-padding" aria-hidden="true"></i>{{'SHOW_HIDE_COLUMN_TITLES' | translate}}</a>
            </span> -->
        </div>
        <!--<ul class="small-padding">
                <li ng-repeat="item in vm.itemsToSelect">{{item}}</li>
            </ul>-->
        <div class="grey-border">
            <table class="data-table">
                <tbody>
                    <tr class="row no-margin" ng-repeat="item in vm.itemsToSelect track by $index">
                        <td class="small-padding bold">{{item}}</td>
                        <td class="small-padding">
                            <select class="form-control tt-input" ng-options="headerObj as headerObj.title for headerObj in vm.headerCollection"
                                    ng-model="columnSelection[$index]" ng-change="vm.selectCol(columnSelection[$index], $index)"></select>
                        </td>
                        <!-- <td class="small-padding" ng-show="vm.selectedColumns.length > $index">{{'COLUMN' | translate}} {{vm.selectedColumns[$index].title}}</td>
                        <td class="small-padding" ng-hide="vm.selectedColumns.length > $index" style="min-width:120px">{{'NO_COLUMN_SELECTED' | translate}}</td>
                        <td class="small-padding" ng-show="vm.selectedColumns.length > $index">({{vm.selectedColumns[$index].title}})</td> -->
                        <td ng-hide="$last || vm.selectedColumns.length - 1 <= $index" class="pointer" ng-click="vm.swapRows($index)" uib-tooltip="{{'SWAP_ROWS' | translate}}"><img class="swap-arrows" src="images/swap-arrows.png" /> </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div class="small-padding" ng-hide="vm.itemsToSelect">
        <div class="small-padding">{{'NOTHING_TO_SELECT' | translate}}</div>
    </div>
    <table id="st-datatable" st-table="displayedCollection" st-safe-src="vm.rowCollection" class="table table-striped" ng-show="vm.rowCollection.length > 0"
        style="max-height:500px;overflow:auto;margin-top: 16px;">
        <thead>
            <tr ng-show="vm.showTooltips">
                <th ng-repeat="headerObj in vm.headerCollection">{{headerObj.title}}</th>
            </tr>
            <tr class="csv-table-header">
                <!--st-sort="{{col}}"-->
                <th ng-repeat="headerObj in vm.headerCollection" uib-tooltip="{{headerObj.title}}">
                    {{headerObj.title}}</th>
            </tr>
            <tr>
                <th colspan="{{vm.headerCollection.length}}">
                    <input st-search placeholder="{{'SEARCH_IN_DATA' | translate}}" class="input-sm form-control" type="search" />
                </th>
            </tr>
        </thead>
        <tbody ng-if="selectionOption == 'row'">
            <tr st-select-row="row" ng-click="vm.selectRow(row)" ng-repeat="row in displayedCollection | limitTo: 20">
                <td ng-repeat="headerObj in vm.headerCollection">{{row[headerObj.code]}}</td>
            </tr>
        </tbody>
        <tbody ng-if="selectionOption != 'row'">
            <tr ng-repeat="row in displayedCollection | limitTo: 20">
                <td ng-repeat="headerObj in vm.headerCollection">{{row[headerObj.code]}}</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="modal-footer" >
    <div class="t2m-btn yellow t2m-btn-inline" ng-click="vm.ok()" ng-show="vm.selectionOption.indexOf('col') >= 0" >{{'SELECT_COLS' | translate}}</div>
    <div class="t2m-btn yellow t2m-btn-inline" ng-show="vm.selectionOption.indexOf('row') >= 0" ng-click="vm.ok()">{{'SELECT_ROW' | translate}}</div>
</div>
